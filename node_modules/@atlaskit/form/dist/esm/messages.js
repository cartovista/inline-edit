/** @jsx jsx */
import React from 'react';
import { css, jsx } from '@emotion/core';
import SuccessIcon from '@atlaskit/icon/glyph/editor/success';
import ErrorIcon from '@atlaskit/icon/glyph/error';
import { G400, N200, R400 } from '@atlaskit/theme/colors';
import { useGlobalTheme } from '@atlaskit/theme/components';
import { fontFamily as getFontFamily, gridSize as getGridSize } from '@atlaskit/theme/constants';
import { h200 } from '@atlaskit/theme/typography';
import { FieldId } from './field';
var gridSize = getGridSize();
var fontFamily = getFontFamily(); // eslint-disable-next-line @repo/internal/react/consistent-css-prop-usage

var lightH200Styles = css(h200({
  theme: {
    mode: 'light'
  }
})); // eslint-disable-next-line @repo/internal/react/consistent-css-prop-usage

var darkH200Styles = css(h200({
  theme: {
    mode: 'dark'
  }
}));
var messageErrorColorStyles = css({
  color: "var(--ds-text-danger, ".concat(R400, ")")
});
var messageNeutralColorStyles = css({
  color: "var(--ds-text-subtlest, ".concat(N200, ")")
});
var messageValidColorStyles = css({
  color: "var(--ds-text-success, ".concat(G400, ")")
});
var messageStyles = css({
  display: 'flex',
  marginTop: "".concat(gridSize * 0.5, "px"),
  justifyContent: 'baseline',
  fontFamily: "".concat(fontFamily),
  fontWeight: 'normal'
});
var iconWrapperStyles = css({
  display: 'flex'
});

var IconWrapper = function IconWrapper(_ref) {
  var children = _ref.children;
  return jsx("span", {
    css: iconWrapperStyles
  }, children);
};

var Message = function Message(_ref2) {
  var children = _ref2.children,
      error = _ref2.error,
      valid = _ref2.valid,
      fieldId = _ref2.fieldId,
      testId = _ref2.testId;

  var _useGlobalTheme = useGlobalTheme(),
      mode = _useGlobalTheme.mode;

  return jsx("div", {
    css: [mode === 'light' ? lightH200Styles : darkH200Styles, messageStyles, error ? messageErrorColorStyles : valid ? messageValidColorStyles : messageNeutralColorStyles],
    "data-testid": testId,
    id: fieldId
  }, children);
};

/**
 * __Helper message__
 *
 * A helper message tells the user what kind of input the field takes. For example, a helper message could be
 * 'Password should be more than 4 characters'
 *
 */
export var HelperMessage = function HelperMessage(_ref3) {
  var children = _ref3.children,
      testId = _ref3.testId;
  return jsx(FieldId.Consumer, null, function (fieldId) {
    return jsx(Message, {
      fieldId: fieldId ? "".concat(fieldId, "-helper") : undefined,
      testId: testId
    }, children);
  });
};
/**
 * __Error message__
 *
 * An error message is used to tell a user that the field input is invalid. For example, an error message could be
 * 'Invalid username, needs to be more than 4 characters'.
 *
 */

export var ErrorMessage = function ErrorMessage(_ref4) {
  var children = _ref4.children,
      testId = _ref4.testId;
  return jsx(FieldId.Consumer, null, function (fieldId) {
    return jsx(Message, {
      error: true,
      fieldId: fieldId ? "".concat(fieldId, "-error") : undefined,
      testId: testId
    }, jsx(IconWrapper, null, jsx(ErrorIcon, {
      size: "small",
      label: "error"
    })), children);
  });
};
/**
 * __Valid message__
 *
 * A valid message is used to tell a user that the field input is valid. For example,
 * a helper message could be 'Nice one, this username is available'.
 *
 */

export var ValidMessage = function ValidMessage(_ref5) {
  var children = _ref5.children,
      testId = _ref5.testId;
  return jsx(FieldId.Consumer, null, function (fieldId) {
    return jsx(Message, {
      fieldId: fieldId ? "".concat(fieldId, "-valid") : undefined,
      testId: testId,
      valid: true
    }, jsx(IconWrapper, null, jsx(SuccessIcon, {
      size: "small",
      label: "success"
    })), children);
  });
};